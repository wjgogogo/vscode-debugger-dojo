{
  "version": "0.2.0",
  "configurations": [
    // ========================================
    // ğŸš€ å¿«æ·è°ƒè¯•ï¼šæŒ‰ F5 ç›´æ¥è°ƒè¯•å½“å‰æµ‹è¯•æ–‡ä»¶
    // ========================================
    // è¯´æ˜ï¼šæ‰“å¼€ä»»æ„æµ‹è¯•æ–‡ä»¶åï¼ŒæŒ‰ F5 å³å¯å¼€å§‹è°ƒè¯•
    // æ”¯æŒï¼šJest (.test.ts/.test.js) å’Œ Vitest (.test.ts)

    // Jest æµ‹è¯•æ–‡ä»¶å¿«æ·è°ƒè¯•ï¼ˆé€‚ç”¨äº jest-demo é¡¹ç›®ï¼‰
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸš€ Debug Current File - Jest",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": [
        "${file}",
        "--runInBand",
        "--no-coverage",
        "--testTimeout=30000"
      ],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "cwd": "${workspaceFolder}",
      "skipFiles": ["<node_internals>/**"],
      "outputCapture": "std"
    },

    // Vitest æµ‹è¯•æ–‡ä»¶å¿«æ·è°ƒè¯•ï¼ˆé€‚ç”¨äº vitest-demo é¡¹ç›®ï¼‰
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸš€ Debug Current File - Vitest",
      "runtimeExecutable": "pnpm",
      "runtimeArgs": [
        "exec",
        "vitest",
        "run",
        "${file}"
      ],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "cwd": "${workspaceFolder}",
      "skipFiles": ["<node_internals>/**"]
    },

    // ========================================
    // Vite + React è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "chrome",
      "request": "launch",
      "name": "Vite React - Launch",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/packages/vite-react-demo",
      "sourceMaps": true,
      "preLaunchTask": "vite-react: dev",
      "runtimeArgs": [
        "--auto-open-devtools-for-tabs"
      ]
    },
    {
      "type": "chrome",
      "request": "launch",
      "name": "Vite React - Launch (ä¿å­˜ç™»å½•çŠ¶æ€)",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/packages/vite-react-demo",
      "sourceMaps": true,
      "preLaunchTask": "vite-react: dev",
      "userDataDir": "${workspaceFolder}/packages/vite-react-demo/.chrome-data",
      "runtimeArgs": [
        "--auto-open-devtools-for-tabs"
      ]
    },
    {
      "type": "chrome",
      "request": "attach",
      "name": "Vite React - Attach",
      "port": 9222,
      "webRoot": "${workspaceFolder}/packages/vite-react-demo",
      "sourceMaps": true
    },

    // ========================================
    // Next.js è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Next.js - Full Stack",
      "runtimeExecutable": "pnpm",
      "runtimeArgs": ["next", "dev"],
      "serverReadyAction": {
        "pattern": "started server on .+, url: (https?://.+)",
        "uriFormat": "%s",
        "action": "debugWithChrome"
      },
      "cwd": "${workspaceFolder}/packages/nextjs-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Next.js - Server",
      "runtimeExecutable": "pnpm",
      "runtimeArgs": ["next", "dev"],
      "cwd": "${workspaceFolder}/packages/nextjs-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "chrome",
      "request": "attach",
      "name": "Next.js - Attach Client",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/packages/nextjs-demo",
      "sourceMaps": true
    },

    // ========================================
    // Webpack è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Webpack - Build",
      "program": "${workspaceFolder}/node_modules/.bin/webpack",
      "args": [
        "--config",
        "${workspaceFolder}/packages/webpack-demo/webpack/webpack.config.js",
        "--mode",
        "development"
      ],
      "cwd": "${workspaceFolder}/packages/webpack-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Webpack - Dev Server",
      "program": "${workspaceFolder}/node_modules/.bin/webpack",
      "args": [
        "serve",
        "--config",
        "${workspaceFolder}/packages/webpack-demo/webpack/webpack.config.js",
        "--mode",
        "development"
      ],
      "cwd": "${workspaceFolder}/packages/webpack-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"]
    },

    // ========================================
    // TypeScript ç‹¬ç«‹è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "TypeScript - Current File (ts-node)",
      "program": "${file}",
      "runtimeArgs": ["-r", "ts-node/register"],
      "cwd": "${fileDirname}",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"],
      "env": {
        "TS_NODE_PROJECT": "${workspaceFolder}/packages/typescript-demo/tsconfig.json"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "TypeScript - Current File (tsx)",
      "program": "${file}",
      "runtimeArgs": ["-r", "tsx/cjs"],
      "cwd": "${fileDirname}",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "skipFiles": ["<node_internals>/**"]
    },

    // ========================================
    // Node.js è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Node.js - Launch",
      "program": "${workspaceFolder}/packages/node-demo/src/index.ts",
      "runtimeArgs": ["-r", "tsx/cjs"],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "env": {
        "NODE_ENV": "development",
        "PORT": "3000"
      },
      "sourceMaps": true,
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "attach",
      "name": "Node.js - Attach",
      "port": 9229,
      "restart": true,
      "skipFiles": ["<node_internals>/**"]
    },

    // ========================================
    // Jest è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Jest - Current File",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": [
        "${relativeFile}",
        "--config=${workspaceFolder}/packages/jest-demo/jest.config.js",
        "--runInBand",
        "--no-coverage"
      ],
      "cwd": "${workspaceFolder}/packages/jest-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Jest - All Tests",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": [
        "--runInBand",
        "--config=${workspaceFolder}/packages/jest-demo/jest.config.js"
      ],
      "cwd": "${workspaceFolder}/packages/jest-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen"
    },

    // ========================================
    // Vitest è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Vitest - Current File",
      "runtimeExecutable": "pnpm",
      "runtimeArgs": [
        "vitest",
        "run",
        "${relativeFile}"
      ],
      "cwd": "${workspaceFolder}/packages/vitest-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Vitest - All Tests",
      "runtimeExecutable": "pnpm",
      "runtimeArgs": [
        "vitest",
        "run"
      ],
      "cwd": "${workspaceFolder}/packages/vitest-demo",
      "console": "integratedTerminal"
    },

    // ========================================
    // npm script è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "npm script - Run Script File",
      "program": "${file}",
      "cwd": "${fileDirname}/..",
      "console": "integratedTerminal"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "npm script - Build",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "build"],
      "cwd": "${workspaceFolder}/packages/npm-script-demo",
      "console": "integratedTerminal",
      "skipFiles": ["<node_internals>/**"]
    },
    {
      "type": "node",
      "request": "launch",
      "name": "npm script - Build Production",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "build:prod"],
      "cwd": "${workspaceFolder}/packages/npm-script-demo",
      "console": "integratedTerminal"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "npm script - Deploy",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "deploy"],
      "cwd": "${workspaceFolder}/packages/npm-script-demo",
      "console": "integratedTerminal"
    },

    // ========================================
    // Puppeteer è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "node",
      "request": "launch",
      "name": "Puppeteer - Current File",
      "program": "${file}",
      "cwd": "${workspaceFolder}/packages/puppeteer-demo",
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "env": {
        "USER_DATA_DIR": "${workspaceFolder}/packages/puppeteer-demo/user-data",
        "HEADLESS": "false",
        "SLOWMO": "100"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Puppeteer - Scrape (æœ‰å¤´æ¨¡å¼ + user-data-dir)",
      "program": "${workspaceFolder}/packages/puppeteer-demo/scripts/scrape.js",
      "cwd": "${workspaceFolder}/packages/puppeteer-demo",
      "console": "integratedTerminal",
      "env": {
        "USER_DATA_DIR": "${workspaceFolder}/packages/puppeteer-demo/user-data",
        "HEADLESS": "false",
        "SLOWMO": "100",
        "DEVTOOLS": "true"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Puppeteer - Scrape (æ— å¤´æ¨¡å¼)",
      "program": "${workspaceFolder}/packages/puppeteer-demo/scripts/scrape.js",
      "cwd": "${workspaceFolder}/packages/puppeteer-demo",
      "console": "integratedTerminal",
      "env": {
        "HEADLESS": "true"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Puppeteer - Test UI (ä¿å­˜ç™»å½•çŠ¶æ€)",
      "program": "${workspaceFolder}/packages/puppeteer-demo/scripts/test-ui.js",
      "cwd": "${workspaceFolder}/packages/puppeteer-demo",
      "console": "integratedTerminal",
      "env": {
        "USER_DATA_DIR": "${workspaceFolder}/packages/puppeteer-demo/user-data",
        "HEADLESS": "false",
        "SLOWMO": "50"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Puppeteer - Screenshot (å¿«é€Ÿæ¨¡å¼)",
      "program": "${workspaceFolder}/packages/puppeteer-demo/scripts/screenshot.js",
      "cwd": "${workspaceFolder}/packages/puppeteer-demo",
      "console": "integratedTerminal",
      "env": {
        "HEADLESS": "true"
      }
    },

    // ========================================
    // Rust è°ƒè¯•é…ç½®
    // ========================================
    {
      "type": "lldb",
      "request": "launch",
      "name": "Rust - Debug hello",
      "cargo": {
        "args": [
          "build",
          "--bin=hello",
          "--package=rust-demo"
        ],
        "filter": {
          "name": "hello",
          "kind": "bin"
        }
      },
      "args": [],
      "cwd": "${workspaceFolder}/packages/rust-demo"
    },
    {
      "type": "lldb",
      "request": "launch",
      "name": "Rust - Debug calculator",
      "cargo": {
        "args": [
          "build",
          "--bin=calculator",
          "--package=rust-demo"
        ],
        "filter": {
          "name": "calculator",
          "kind": "bin"
        }
      },
      "args": [],
      "cwd": "${workspaceFolder}/packages/rust-demo"
    },
    {
      "type": "lldb",
      "request": "launch",
      "name": "Rust - Debug Tests",
      "cargo": {
        "args": [
          "test",
          "--no-run",
          "--package=rust-demo"
        ],
        "filter": {
          "name": "rust-demo",
          "kind": "lib"
        }
      },
      "args": [],
      "cwd": "${workspaceFolder}/packages/rust-demo"
    }
  ]
}
